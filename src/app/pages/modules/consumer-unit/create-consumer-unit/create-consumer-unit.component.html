<app-text text="Unidade Consumidora" size="large">
</app-text>

<form [formGroup]="form" (ngSubmit)="onSubmit()">

  <app-tabs class="tabs" [tabs]="['Informações Básicas', 'Monitoramento Mensal', 'Carga e Consumo','Geração']"
    size="medium">
    <!-- Tab 1: Informações Básicas -->
    <ng-template #appCustomTab>

      <app-dropdown [options]="listAccounts" placeholder="Selecione a conta referente a unidade consumidora"
        [isRequired]="true" [size]="'medium'" [control]="form.get('selected_account')!"></app-dropdown>

      <app-divider type="small"></app-divider>

      <app-text text="Informações da Unidade Consumidora" size="large"></app-text>

      <div class="form-container">
        <div class="basic_info">

          <app-input-text placeholder="Nome da Unidade" size="medium" type="text" [isRequired]="true"
           ></app-input-text>

          <app-dropdown [options]="listClass" placeholder="Classe" [isRequired]="true" [size]="'medium'"
            [control]="form.get('selected_class')!"></app-dropdown>


          <div class="document-container">
            <app-dropdown [options]="listDocuments" placeholder="CPF/CNPJ" [isRequired]="true" [size]="'medium'"
              [control]="form.get('selected_document')!"></app-dropdown>

            <app-input-text [placeholder]="documentPlaceholder" size="medium" type="text"
             [disabled]="isDocumentInputDisabled"></app-input-text>


          </div>

          <app-input-text placeholder="Tipo de fornecimento" size="medium" type="text"
            ></app-input-text>

        </div>

        <div class="images_area">
          <app-image-upload [maxFiles]="10" [maxFileSize]="2" [acceptedFormats]="['image/jpeg', 'image/png']"
            formControlName="images"></app-image-upload>
          <app-switch label="Ativa" (toggleChanged)="onToggle($event)"></app-switch>
        </div>

      </div>


      <div class="info-creation">
        <app-divider type="small"></app-divider>
        <app-text text="Informações de Criação" size="large"></app-text>


      </div>

      <app-divider type="small"></app-divider>
      <app-text text="localização e Ponto de Referência" size="large"></app-text>

      <div class="container-location">

        <div class="map-location">

          <app-map-picker [markerIconUrl]="'assets/icons/ic_marker_consumer_unit.svg'"
            formControlName="location"></app-map-picker>

          <p>Endereço completo: {{ form.get('location')?.value?.address }}</p>
          <p>Coordenadas: {{ form.get('location')?.value?.lat }}, {{ form.get('location')?.value?.lng }}</p>
        </div>

        <div class="inputs-location">
          <app-input-text placeholder="Logradouro" size="medium" type="text"
         ></app-input-text>

          <app-input-text placeholder="Bairro" size="medium" type="text"
          ></app-input-text>


        </div>
      </div>









      <!-- Switch -->


      <!-- Divider -->
      <app-divider type="small"></app-divider>

    </ng-template>

    <!-- Tab 2: Monitoramento Mensal -->
    <ng-template #appCustomTab>
      <p>Conteúdo da Tab 2</p>
    </ng-template>

    <!-- Tab 3: Carga e Consumo -->
    <ng-template #appCustomTab>
      <p>Conteúdo da Tab 3</p>
    </ng-template>

    <!-- Tab 4: Geração -->
    <ng-template #appCustomTab>
      <p>Conteúdo da Tab 4</p>
    </ng-template>
  </app-tabs>
</form>

<app-button class="bottom" mode="primary" size="large" [text]="'Salvar'" (clicked)="onClickLogin()">
</app-button>


<app-loading [isLoading]="isLoading"></app-loading>
<app-notification></app-notification>